# ========================================
# Bytebot Agent - Production Environment Configuration
# ========================================
# This file contains production-optimized environment configuration
# Use this template for production deployments with proper secret management
# 
# SECURITY WARNING: 
# - Never use default values in production
# - Use Kubernetes secrets, HashiCorp Vault, or similar for sensitive data
# - Rotate all secrets regularly
# - Monitor for credential leaks
# ========================================

# ========================================
# Application Environment (PRODUCTION)
# ========================================
NODE_ENV=production
PORT=9991

# ========================================
# Database Configuration (PRODUCTION)
# ========================================
# Use connection pooling and read replicas for production
DATABASE_URL=postgresql://production_user:SECURE_PASSWORD@prod-db-host:5432/bytebotdb?schema=public&sslmode=require
DATABASE_MAX_CONNECTIONS=50
DATABASE_CONNECTION_TIMEOUT=10000

# ========================================
# Security Configuration (PRODUCTION)
# ========================================
# CRITICAL: Generate strong secrets using secure random generators
# JWT Secret - Must be at least 64 characters for HS256
# Generate with: openssl rand -hex 64
JWT_SECRET=REPLACE_WITH_SECURE_256_BIT_HEX_STRING_FROM_SECRET_MANAGER

# Shorter token lifetimes for production security
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=24h

# Encryption key for sensitive data - 32 bytes hex
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=REPLACE_WITH_SECURE_256_BIT_ENCRYPTION_KEY_FROM_SECRET_MANAGER

# ========================================
# API Security Settings (PRODUCTION)
# ========================================
# Strict rate limiting for production
API_RATE_LIMIT_WINDOW=900000
API_RATE_LIMIT_MAX_REQUESTS=100

# Restricted CORS - only allow specific domains
API_CORS_ORIGINS=https://app.yourcompany.com,https://admin.yourcompany.com

# Conservative limits for production
BODY_PARSER_LIMIT=10mb
REQUEST_TIMEOUT=30000

# ========================================
# LLM API Keys (PRODUCTION)
# ========================================
# Store in Kubernetes secrets or external secret manager
ANTHROPIC_API_KEY=ANTHROPIC_PRODUCTION_API_KEY_FROM_SECRET_MANAGER
OPENAI_API_KEY=OPENAI_PRODUCTION_API_KEY_FROM_SECRET_MANAGER
GEMINI_API_KEY=GEMINI_PRODUCTION_API_KEY_FROM_SECRET_MANAGER

# ========================================
# Service URLs (PRODUCTION)
# ========================================
# Use internal service discovery or load balancers
BYTEBOT_DESKTOP_BASE_URL=https://desktop.internal.yourcompany.com
BYTEBOT_LLM_PROXY_URL=https://llm-proxy.internal.yourcompany.com
BYTEBOT_ANALYTICS_ENDPOINT=https://analytics.internal.yourcompany.com/events

# ========================================
# Feature Flags (PRODUCTION)
# ========================================
# All security features enabled for production
ENABLE_AUTHENTICATION=true
ENABLE_RATE_LIMITING=true
ENABLE_METRICS_COLLECTION=true
ENABLE_HEALTH_CHECKS=true
ENABLE_CIRCUIT_BREAKER=true
ENABLE_DISTRIBUTED_TRACING=true

# ========================================
# Monitoring & Observability (PRODUCTION)
# ========================================
# Prometheus metrics
PROMETHEUS_METRICS_PORT=9464

# Structured JSON logging for production
LOG_LEVEL=warn
LOG_FORMAT=json

# Distributed tracing endpoints
JAEGER_ENDPOINT=https://jaeger.monitoring.yourcompany.com/api/traces

# ========================================
# Performance & Reliability (PRODUCTION)
# ========================================
# Extended graceful shutdown for production workloads
GRACEFUL_SHUTDOWN_TIMEOUT=30000

# Production circuit breaker settings
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000
CIRCUIT_BREAKER_RESET_TIMEOUT=30000

# Production health check settings
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# ========================================
# Kubernetes Configuration (PRODUCTION)
# ========================================
KUBERNETES_NAMESPACE=bytebot-production
KUBERNETES_SERVICE_NAME=bytebot-agent

# ========================================
# Production Settings
# ========================================
# Disable development features
ENABLE_SWAGGER=false
DEBUG_MODE=false

# ========================================
# Security Headers (PRODUCTION)
# ========================================
# Strict security policies
SECURITY_HSTS_MAX_AGE=31536000
SECURITY_TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

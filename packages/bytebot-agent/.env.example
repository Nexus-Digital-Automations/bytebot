# ========================================
# Bytebot Agent - Environment Configuration Template
# ========================================
# This file contains all environment variables needed for the Bytebot Agent
# Copy this file to .env for development or use environment-specific files
# 
# Security Note: Never commit actual secrets to version control
# Use secure secret management systems in production
# ========================================

# ========================================
# Application Environment
# ========================================
NODE_ENV=development
PORT=9991

# ========================================
# Database Configuration
# ========================================
# Primary database connection string
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/bytebotdb
DATABASE_MAX_CONNECTIONS=20
DATABASE_CONNECTION_TIMEOUT=5000

# ========================================
# Security Configuration
# ========================================
# JWT Authentication - CRITICAL: Generate secure random values for production
# Use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# Use: openssl rand -hex 64
JWT_SECRET=your-super-secure-jwt-secret-key-change-this-in-production-64-chars-minimum
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Encryption key for sensitive data - 32 bytes hex encoded
# Use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Use: openssl rand -hex 32
ENCRYPTION_KEY=your-32-byte-hex-encoded-encryption-key-change-this-in-production

# ========================================
# API Security Settings
# ========================================
# Rate limiting configuration (requests per window)
API_RATE_LIMIT_WINDOW=900000
API_RATE_LIMIT_MAX_REQUESTS=1000

# CORS configuration - comma-separated origins
# For development: http://localhost:3000,http://localhost:3001
# For production: https://yourapp.com,https://admin.yourapp.com
API_CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:9990

# Request parsing limits and timeouts
BODY_PARSER_LIMIT=50mb
REQUEST_TIMEOUT=30000

# ========================================
# LLM API Keys (Keep these secure!)
# ========================================
# Anthropic Claude API key
ANTHROPIC_API_KEY=your-anthropic-api-key

# OpenAI API key
OPENAI_API_KEY=your-openai-api-key

# Google Gemini API key  
GEMINI_API_KEY=your-gemini-api-key

# ========================================
# Service URLs
# ========================================
# Bytebot Desktop service URL
BYTEBOT_DESKTOP_BASE_URL=http://localhost:9990

# LLM Proxy service URL (optional)
BYTEBOT_LLM_PROXY_URL=http://localhost:3003

# Analytics endpoint (optional)
BYTEBOT_ANALYTICS_ENDPOINT=http://localhost:3004/analytics

# ========================================
# Feature Flags (Development Settings)
# ========================================
# Authentication system (set to true for production)
ENABLE_AUTHENTICATION=false

# Rate limiting (set to true for production)
ENABLE_RATE_LIMITING=false

# Metrics collection
ENABLE_METRICS_COLLECTION=false

# Health checks
ENABLE_HEALTH_CHECKS=true

# Circuit breaker pattern (recommended for production)
ENABLE_CIRCUIT_BREAKER=false

# Distributed tracing
ENABLE_DISTRIBUTED_TRACING=false

# ========================================
# Monitoring & Observability
# ========================================
# Prometheus metrics port
PROMETHEUS_METRICS_PORT=9464

# Logging configuration
LOG_LEVEL=debug
LOG_FORMAT=text

# Distributed tracing (Jaeger)
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# ========================================
# Performance & Reliability
# ========================================
# Graceful shutdown timeout (milliseconds)
GRACEFUL_SHUTDOWN_TIMEOUT=10000

# Circuit breaker configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000
CIRCUIT_BREAKER_RESET_TIMEOUT=30000

# Health check configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# ========================================
# Kubernetes Configuration (Production)
# ========================================
KUBERNETES_NAMESPACE=default
KUBERNETES_SERVICE_NAME=bytebot-agent

# ========================================
# Development Tools
# ========================================
# Enable Swagger documentation
ENABLE_SWAGGER=true
SWAGGER_PATH=/api/docs

# Debug mode
DEBUG_MODE=true

# ========================================
# Redis Configuration (Optional)
# ========================================
# Redis connection string for caching/sessions
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password

# ========================================
# Additional Security Headers (Production)
# ========================================
# Custom security headers configuration
# SECURITY_HSTS_MAX_AGE=31536000
# SECURITY_CSP_REPORT_URI=https://your-csp-report-endpoint.com
# SECURITY_TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# ========================================
# External Service Integrations
# ========================================
# Webhook endpoints for integrations
# WEBHOOK_SECRET=your-webhook-secret-for-signature-validation
# SLACK_WEBHOOK_URL=https://hooks.slack.com/your-webhook
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your-webhook

# ========================================
# Production Security Overrides
# ========================================
# Uncomment and configure for production deployment:
# ENABLE_AUTHENTICATION=true
# ENABLE_RATE_LIMITING=true  
# ENABLE_METRICS_COLLECTION=true
# ENABLE_CIRCUIT_BREAKER=true
# LOG_LEVEL=warn
# LOG_FORMAT=json
# API_CORS_ORIGINS=https://yourapp.com
# DEBUG_MODE=false
# ENABLE_SWAGGER=false
